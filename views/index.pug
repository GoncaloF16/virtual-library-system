extends layout/fe_master

block content
  .d-flex.justify-content-between.align-items-center.mb-4
    h2.mb-0.text-primary
      i.bi.bi-book-half.me-2
      | Lista de Livros

    .text-end
      a.btn.btn-primary.btn-lg(
        data-bs-toggle="modal",
        data-bs-target="#modalNovoLivro"
      ) 
        i.bi.bi-plus-circle.me-2
        | Novo Livro

  if livros.length
    .table-responsive
      table.table.table-hover.mt-3
        thead.table-dark
          tr
            th
              i.bi.bi-bookmark-fill.me-2
              | Título
            th
              i.bi.bi-person-fill.me-2
              | Autor
            th
              i.bi.bi-tag-fill.me-2
              | Gênero
            th.text-end
              i.bi.bi-gear-fill.me-2
              | Ações
        tbody
          each livro in livros
            tr
              td
                strong= livro.titulo
              td= livro.autor
              td
                span.badge.bg-info.text-dark(style="font-size: 0.85rem; padding: 0.5rem 0.75rem;")= livro.genero
              td.text-end
                a.btn.btn-warning.btn-sm.me-2(
                  href="#",
                  data-bs-toggle="modal",
                  data-bs-target="#modalNovoLivro",
                  data-id=livro.id,
                  data-titulo=livro.titulo,
                  data-autor=livro.autor,
                  data-genero=livro.genero
                ) 
                  i.bi.bi-pencil-fill.me-1
                  | Editar
                button.btn.btn-danger.btn-sm(
                  type="button",
                  onclick=`apagarLivro('${livro.id}')`
                ) 
                  i.bi.bi-trash-fill.me-1
                  | Excluir
  else
    .text-center.mt-5.p-5(style="background: rgba(255,255,255,0.7); border-radius: 12px;")
      i.bi.bi-book.text-muted(style="font-size: 4rem;")
      p.text-muted.mt-3.mb-0(style="font-size: 1.1rem;") Nenhum livro cadastrado ainda.
      p.text-muted.small Clique em "Novo Livro" para adicionar o primeiro livro à biblioteca.
